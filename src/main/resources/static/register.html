<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>数据结构在线学习系统 - 注册</title>
    <style>
      body {
        background-image: url("img/index.png");
        background-size: cover;
        background-position: center;
		height: 100vh;
		overflow: hidden;
      }
      #register-box {
        margin: 0 auto;
        width: 400px;
        padding: 20px;
        border: 1px solid #ccc;
        background-color: #fff;
        background-color: rgba(255, 255, 255, 0.8);
      }
      #register-box h1 {
        font-size: 24px;
        text-align: center;
        margin-bottom: 20px;
      }
      #register-form label {
        display: block;
        margin-bottom: 10px;
        font-size: 16px;
        font-weight: bold;
        color: #333;
      }
      #register-form input[type="text"],
      #register-form input[type="password"],
      #register-form input[type="email"] {
        width: 100%;
        height: 40px;
        padding: 10px;
        font-size: 16px;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
        margin-bottom: 20px;
      }
      #register-form select {
        width: 100%;
        height: 40px;
        padding: 10px;
        font-size: 16px;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
        margin-bottom: 20px;
      }
      #register-form button[type="submit"] {
        display: block;
        width: 100%;
        height: 40px;
        font-size: 16px;
        font-weight: bold;
        color: #fff;
        background-color: #007bff;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }
      #register-form button[type="submit"]:hover {
        background-color: #0062cc;
      }
      /* 控制返回登录界面链接样式 */
      #login-link {
        display: block;
        text-align: center;
        font-size: 16px;
        color: #007bff;
        margin-top: 20px;
        text-decoration: none;
      }
      #login-link:hover {
        text-decoration: underline;
      }
    </style>
  </head>
  <body>
    <!-- 添加背景图片 -->
      <div id="register-box">
        <h1>数据结构在线学习系统 - 注册</h1>
        <form id="register-form">
          <label for="username">账号：</label>
          <input type="text" id="username" name="username" required><br>
          <label for="password">密码：</label>
          <input type="password" id="password" name="password" required><br>
          <label for="email">邮箱：</label>
          <input type="email" id="email" name="email" required>
          <label for="role">身份：</label>
          <select id="role" name="role" required>
            <option value="">请选择身份</option>
            <option value="student">学生</option>
            <option value="teacher">教师</option>
          </select><br>
          <button type="submit" id = "btn-reg">注册</button>
        </form>
        <a id="login-link" href="login.html">返回登录</a>
		</div>
	</body>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $("#btn-reg").on("click",function () {
      $.ajax({
        url: "/users/reg",
        type: "GET",
        data: $("#register-form").serialize(),
        dataType: "JSON",
        success: function (json) {
          console.log("成功"+json.state);
          if (json.state === 200) {
            alert("注册成功");
           // location.href = "login.html";
          } else {
            alert("注册失败");
          }
        },
        error: function (xhr) {
          alert("注册时产生未知的错误!"+xhr.status);
        }
      });
    });
  </script>
</html>